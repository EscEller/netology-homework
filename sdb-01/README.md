# Домашнее задание к занятию «Базы данных, их типы»


### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM?
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*

### Ответ 1

1.1. Бюджетирование проектов

Для решения этой задачи подойдут реляционные СУБД, так как они обеспечивают строгую схему данных и связи между таблицами, подходят для структурированных данных с четкими связями, например, финансовые отчеты по проектам.

1.2. Лендинги и CRM

* Для лендингов можно использовать NoSQL СУБД, которая обеспечит гибкость и масштабируемость, и оптимизирована для работы с большим объёмом неструктурированных данных.
* Для CRM подойдет реляционная СУБД, так как в CRM нужно собирать, обрабатывать и анализировать структурированными данные о клиентах.

Как универсальное решение, можно использовать реляционную СУБД, например, MySQL.

1.3. База корпоративных норм

Реляционная или докуметно-ориентированная СУБД

1.4. Логистика

Реляционная или графовая СУБД.
Можно объединить отдел закупок и логистов, если использовать реляционную СУБД.

1.5. Универсальное решение

Наверное реляционная СУБД подойдет как универсальное решение для всех вышеперечисленных задач.

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

*Приведите ответ в свободной форме.*

### Ответ 2

1. Проверка параметров платежа
* Система автоматически проверяет корректность введённых данных (номер телефона, сумма)
* Сверяется соответствие суммы допустимым лимитам оператора и платёжной системы

2. Авторизация платежа
* Отправляется запрос в банк для подтверждения возможности списания средств
* Банк проверяет достаточность средств на счёте плательщика
* Проводится проверка на соответствие транзакции правилам безопасности
* При успешной проверке банк отправляет положительный ответ системе

3. Блокировка средств
* На счёте плательщика временно блокируется сумма платежа
* В системе создаётся запись о начатой транзакции
* Формируется уникальный идентификатор операции

4. Передача данных оператору
* Информация о платеже направляется в систему оператора связи
* Проверяется статус номера телефона (не заблокирован ли, активен ли)
* Верифицируется возможность пополнения данного номера

5. Зачисление средств
* Оператор связи резервирует указанную сумму для целевого номера
* Проводится финальная проверка всех параметров транзакции
* Средства зачисляются на баланс телефонного номера
* Формируется электронный чек о пополнении

6. Фиксация результата
* В системе обновляется статус транзакции на «Выполнена»
* Информация о платеже записывается в базу данных
* Отправляются уведомления всем участникам процесса
* Блокировка средств на счёте плательщика снимается
* В системе оператора обновляется баланс абонента

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

*Приведите ответ в свободной форме.*

### Ответ 3

1. Транзакционность и целостность данных
* SQL-системы поддерживают ACID-свойства (Atomicity, Consistency, Isolation, Durability), что гарантирует надёжность операций с данными
* Обеспечивается полная согласованность данных в любой момент времени
* Механизмы блокировки предотвращают конфликты при одновременном доступе к данным
2. Безопасность и контроль доступа
* Развитая система разграничения прав доступа
* Журналирование действий пользователей
* Шифрование данных на уровне столбцов и всего хранилища
* Возможность создания сложных политик безопасности
3. Structured Query Language (SQL)
* SQL является стандартизированным и универсальным языком с относительно простым синтаксисом
* Оптимизаторы запросов обеспечивают высокую производительность
* Богатый набор операторов для сложных аналитических запросов
4. Экосистема и поддержка
* Широкая документация и множество обучающих материалов
* Стабильные и проверенные механизмы резервного копирования и восстановления
* Развитая система мониторинга и управления
* Десятилетия развития и отладки технологий
5. Простота работы со структурированными данными
* Строгая схема данных обеспечивает целостность и предсказуемость
* Эффективное хранение структурированной информации
* Лёгкость в понимании структуры для новых разработчиков
* Возможность создания сложных связей между таблицами

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* здесь справится лучше всего и почему?

*Приведите ответ в свободной форме.*

### Ответ 4

Критерии выбора СУБД:
* Тип данных
* Количество и сложность запросов
* Масштабируемость

Если данные структурированные и важна транзакционность, то Реляционные СУБД с вертикальной масштабируемостью (PostgreSQL, MySQL)
Если данные неструктурированные и ожидается высокая нагрузка, то NoSQL СУБД с горизонтальной масштабируемостью (Cassandra, MongoDB)
Если требуются аналитические функции и таблицы состоят из огромного количества строк, то Колоночные СУБД с горизонтальной (колоночной) масштабируемостью (ClickHouse)

В качестве модели распределенных вычислений наверное наиболее подходящей будет MapReduce, так как эта модель отлично подходит для параллельной обработки данных, эффективно распределяет нагрузку между узлами, что как раз подойдет для параллельного выполнения задачи на 1000 машинах.
