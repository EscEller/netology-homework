# Домашнее задание к занятию «Репликация и масштабирование. Часть 2»


### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер;
- master-сервер и несколько slave-серверов;


*Дайте ответ в свободной форме.*

## Ответ 1

- активный master-сервер и пассивный репликационный slave-сервер;

1. При сбое master-сервера slave можно быстро перевести в режим master, минимизируя время простоя.
 2. Архитектура минимальна: всего два узла, что упрощает конфигурацию, мониторинг и восстановление.
  3. Резервные копии можно делать с slave-сервера, не мешая основной работе приложения.
  4. Поскольку запись идёт только на один сервер, исключаются конфликты параллельной записи.
  5. Slave можно использовать для тестирования новых версий СУБД или схем базы без риска для production-среды.

- master-сервер и несколько slave-серверов;

 1. Нагрузка от операций чтения распределяется между несколькими slave-серверами, что значительно повышает общую производительность приложения.
 2. Сочетает отказоустойчивость (можно переключиться на один из slave при падении master) и масштабируемость (добавление новых slave).
 3. Возможна настройка балансировщика для направления SELECT-запросов на разные slave в зависимости от нагрузки, геолокации и т.п.
 4. Тяжёлые аналитические запросы можно направлять на выделенный slave.
 5. Slave-серверы можно размещать в разных дата-центрах или регионах для снижения задержек у локальных пользователей.

---

### Задание 2


Разработайте план для выполнения горизонтального и вертикального шардинга базы данных. База данных состоит из трёх таблиц:

- пользователи,
- книги,
- магазины (столбцы произвольно).

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.*

## Ответ 2

Вертикальный шардинг: вся основная информация о пользователях, книгах и магазинах хранится в базе данных на первом сервере, а вторая БД на втором сервере хранит в себе дополнительную информацию о пользователях и книгах, которую реже запрашивают

![Скриншот-1](https://github.com/EscEller/netology-homework/blob/main/sdbsql-07/content/1.png)

Горизонтальный шардинг: большие таблицы будут делится по строкам на разные серверы, например, таблица с пользователями будет делится по 10000 строк на шард, а таблица с книгами по 1000 строк на шард

![Скриншот-2](https://github.com/EscEller/netology-homework/blob/main/sdbsql-07/content/2.png)

